<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube Video with Spotify Widget</title>
    <style>
        /* Styling for the YouTube embed and the Spotify widget */
        .video-container {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
            height: 0;
            overflow: hidden;
        }

        iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

        /* Styling for the Spotify widget */
        #spotify-widget {
            position: absolute;
            bottom: 20px;
            left: 20px;
            z-index: 1000;
            padding: 10px;
            background-color: rgba(0, 0, 0, 0.6);
            color: white;
            border-radius: 5px;
            max-width: 300px;
        }

        #spotify-widget p {
            margin: 0;
        }
    </style>
</head>
<body>

<div class="video-container">
  <!-- YouTube iframe -->
  <iframe 
    src="https://www.youtube.com/embed/5e4lsEe4Vew?autoplay=1&vq=hd1080&mute=1&controls=0"
    title="YouTube video player"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
    referrerpolicy="strict-origin-when-cross-origin"
    allowfullscreen>
  </iframe>

  <!-- Spotify Widget -->
  <div id="spotify-widget">
    <p id="song-name">Loading song...</p>
    <p id="song-artist">Loading artist...</p>
  </div>
</div>

<!-- JavaScript to fetch currently playing song from Spotify API -->
<script>
  // Spotify API Access Token
  const accessToken = 'YOUR_SPOTIFY_ACCESS_TOKEN'; // Get this via OAuth authentication process

  // Function to fetch currently playing song
  async function fetchCurrentSong() {
    try {
      const response = await fetch('https://api.spotify.com/v1/me/player/currently-playing', {
        method: 'GET',
        headers: {
          'Authorization': `Bearer ${accessToken}`
        }
      });

      if (!response.ok) {
        console.error('Error fetching current song:', response.statusText);
        return;
      }

      const data = await response.json();
      if (data.item) {
        const songName = data.item.name;
        const artistName = data.item.artists.map(artist => artist.name).join(', ');

        // Update the widget with song details
        document.getElementById('song-name').textContent = `Now Playing: ${songName}`;
        document.getElementById('song-artist').textContent = `By: ${artistName}`;
      } else {
        document.getElementById('song-name').textContent = 'No song playing';
        document.getElementById('song-artist').textContent = '';
      }
    } catch (error) {
      console.error('Error fetching song info:', error);
    }
  }

  // Call the function to update the widget every 10 seconds
  setInterval(fetchCur
